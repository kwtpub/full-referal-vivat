# ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–∞ VPS

## –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/yourusername/Referal-vivat.git
cd Referal-vivat

# –°–æ–∑–¥–∞–π—Ç–µ .env –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
nano .env
```

### 2Ô∏è‚É£ –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ .env (–º–∏–Ω–∏–º—É–º)

```bash
# 1. –ü–∞—Ä–æ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
MYSQL_ROOT_PASSWORD=–≤–∞—à_—Å–∏–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å_1
MYSQL_PASSWORD=–≤–∞—à_—Å–∏–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å_2

# 2. –í–∞—à –¥–æ–º–µ–Ω (–∏–ª–∏ IP)
CLIENT_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com
API_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api
VITE_API_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api

# 3. JWT —Å–µ–∫—Ä–µ—Ç—ã (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π: openssl rand -base64 32)
JWT_ACCESS_SECRET=—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_—Å–µ–∫—Ä–µ—Ç_1
JWT_REFRESH_SECRET=—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_—Å–µ–∫—Ä–µ—Ç_2

# 4. Email –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (Gmail)
SMTP_USER=–≤–∞—à-email@gmail.com
SMTP_PASSWORD=–≤–∞—à-app-password
SMTP_FROM=–≤–∞—à-email@gmail.com
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç)

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –ü—Ä–æ—Å—Ç–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö)**

–í—Å–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Docker:

```bash
docker compose up -d --build
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë: Production (–±—ã—Å—Ç—Ä–µ–µ, –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö)**

–¢—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞:

```bash
# –°–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞
./build.sh

# –ó–∞–ø—É—Å–∫
docker compose -f docker-compose.prod.yml up -d --build
```

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker compose logs -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker compose ps
```

### 5Ô∏è‚É£ –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–æ–≤ (–µ—Å–ª–∏ firewall –≤–∫–ª—é—á–µ–Ω)

```bash
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw allow 22/tcp
sudo ufw enable
```

### 6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- `http://–≤–∞—à-–¥–æ–º–µ–Ω-–∏–ª–∏-ip` - –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å–∞–π—Ç
- `http://–≤–∞—à-–¥–æ–º–µ–Ω-–∏–ª–∏-ip/api` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç API

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose logs -f

# –¢–æ–ª—å–∫–æ backend
docker compose logs -f server

# –¢–æ–ª—å–∫–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
docker compose logs -f db

# –¢–æ–ª—å–∫–æ nginx
docker compose logs -f nginx
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
```bash
docker compose ps
```

–í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ `Up` –∏–ª–∏ `Up (healthy)`.

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
docker compose down
docker compose -f docker-compose.prod.yml up -d
```

### –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞:
```bash
docker compose down
./build.sh
docker compose -f docker-compose.prod.yml up -d --build
```

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **DEPLOYMENT.md** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é .env
- **README.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é
